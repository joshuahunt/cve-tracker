
-----------------------------
Stable Kernel Security Notice
2017-12-05

Stable Branch: linux-4.4.y

All linux-4.4.y CVEs:
http://joshuahunt.github.io/cve-tracker/linux-4.4.y-stable-cve-list.html

CVE(s) in report:

2017-12-05
2017-12-05
2017-12-05
2017-12-05
2017-12-05
2017-12-05
2017-12-05
2017-12-05
2017-12-05
2017-12-05
2017-12-05
2017-12-05
2017-12-05
2017-12-05
CVE-2017-1000405
CVE-2017-16536
CVE-2017-16939
CVE-2017-9986
-----------------------------

Details:

*************
CVE-2017-1000405:
*************

This CVE has been resolved in 4.4.104.
Please pull this or a newer version of the kernel to resolve this security vulnerability.

---
Description of fix for this vulnerability:
commit a8f97366452ed491d13cf1e44241bc0b5740b1f0
Author: Kirill A. Shutemov <kirill.shutemov@linux.intel.com>
Date:   Mon Nov 27 06:21:25 2017 +0300

    mm, thp: Do not make page table dirty unconditionally in touch_p[mu]d()
    
    Currently, we unconditionally make page table dirty in touch_pmd().
    It may result in false-positive can_follow_write_pmd().
    
    We may avoid the situation, if we would only make the page table entry
    dirty if caller asks for write access -- FOLL_WRITE.
    
    The patch also changes touch_pud() in the same way.
    
    Signed-off-by: Kirill A. Shutemov <kirill.shutemov@linux.intel.com>
    Cc: Michal Hocko <mhocko@suse.com>
    Cc: Hugh Dickins <hughd@google.com>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

 mm/huge_memory.c | 36 +++++++++++++-----------------------
 1 file changed, 13 insertions(+), 23 deletions(-)
---
The following fields have changed: Stable Date,Stable Commit,Stable Tag
Stable Date: - -> 2017-12-05
Stable Commit: - -> 2b7ef6bdd28610f2907cd766362cf95d0d023801
Stable Tag: - -> 4.4.104

CVE-2017-16536:
*************

*** This is a new CVE ***
This CVE has been resolved in 4.4.103.
Please pull this or a newer version of the kernel to resolve this security vulnerability.

---
Description of fix for this vulnerability:
commit 6c3b047fa2d2286d5e438bcb470c7b1a49f415f6
Author: Johan Hovold <johan@kernel.org>
Date:   Thu Sep 21 05:40:18 2017 -0300

    [media] cx231xx-cards: fix NULL-deref on missing association descriptor
    
    Make sure to check that we actually have an Interface Association
    Descriptor before dereferencing it during probe to avoid dereferencing a
    NULL-pointer.
    
    Fixes: e0d3bafd0258 ("V4L/DVB (10954): Add cx231xx USB driver")
    
    Cc: stable <stable@vger.kernel.org>     # 2.6.30
    Reported-by: Andrey Konovalov <andreyknvl@google.com>
    Signed-off-by: Johan Hovold <johan@kernel.org>
    Tested-by: Andrey Konovalov <andreyknvl@google.com>
    Signed-off-by: Hans Verkuil <hans.verkuil@cisco.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@osg.samsung.com>

 drivers/media/usb/cx231xx/cx231xx-cards.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)
---
The following fields have changed: Public Date,CVE,Break Date,Break Commit,Break Tag,Linus Fix Date,Linus Commit,Linus Tag,Stable Date,Stable Commit,Stable Tag
Public Date: 2017-11-03
CVE: CVE-2017-16536
Break Date: 2009-04-06
Break Commit: e0d3bafd02586cfde286c320f56906fd9fa8d256
Break Tag: 2.6
Linus Fix Date: 2017-10-04
Linus Commit: 6c3b047fa2d2286d5e438bcb470c7b1a49f415f6
Linus Tag: 4.15
Stable Date: 2017-11-30
Stable Commit: 0870fb4c3566088dc222e582e43edbc9ececbce4
Stable Tag: 4.4.103

CVE-2017-16939:
*************

This CVE has been resolved in 4.4.104.
Please pull this or a newer version of the kernel to resolve this security vulnerability.

---
Description of fix for this vulnerability:
commit 1137b5e2529a8f5ca8ee709288ecba3e68044df2
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Thu Oct 19 20:51:10 2017 +0800

    ipsec: Fix aborted xfrm policy dump crash
    
    An independent security researcher, Mohamed Ghannam, has reported
    this vulnerability to Beyond Security's SecuriTeam Secure Disclosure
    program.
    
    The xfrm_dump_policy_done function expects xfrm_dump_policy to
    have been called at least once or it will crash.  This can be
    triggered if a dump fails because the target socket's receive
    buffer is full.
    
    This patch fixes it by using the cb->start mechanism to ensure that
    the initialisation is always done regardless of the buffer situation.
    
    Fixes: 12a169e7d8f4 ("ipsec: Put dumpers on the dump list")
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: Steffen Klassert <steffen.klassert@secunet.com>

 net/xfrm/xfrm_user.c | 25 +++++++++++++++----------
 1 file changed, 15 insertions(+), 10 deletions(-)
---
The following fields have changed: Stable Date,Stable Commit,Stable Tag
Stable Date: - -> 2017-12-05
Stable Commit: - -> b377c453b3631531679cbe594b7d28c5ecd82cea
Stable Tag: - -> 4.4.104

CVE-2017-9986:
*************

*** This is a new CVE ***
---
Description of fix for this vulnerability:
commit 31cbee6a5611f07d2d66f55bb6f8648db5947e32
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu May 11 11:14:45 2017 +0200

    sound: Disable the build of OSS drivers
    
    OSS drivers are left as badly unmaintained, and now we're facing a
    problem to clean up the hackish set_fs() usage in their codes.  Since
    most of drivers have been covered by ALSA, and the others are dead old
    and inactive, let's leave them RIP.
    
    This patch is the first step: disable the build of OSS drivers.
    We'll eventually drop the whole codes and clean up later.
    
    Note that sound/oss/dmasound is still kept, since it's a completely
    different implementation of OSS, and it doesn't suffer from set_fs()
    hack.  Moreover, the build of ALSA is disabled on M68K by some reason,
    thus disabling it shall result in a regression.  This one will be
    disabled / removed once when we add the support in ALSA side.
    
    Tested-by: Randy Dunlap <rdunlap@infradead.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

 sound/Kconfig | 1 +
 1 file changed, 1 insertion(+)
---
The following fields have changed: Public Date,CVE,Break Date,Break Commit,Break Tag,Linus Fix Date,Linus Commit,Linus Tag,Stable Date,Stable Commit,Stable Tag
Public Date: 2017-06-28
CVE: CVE-2017-9986
Break Date: -
Break Commit: -
Break Tag: -
Linus Fix Date: 2017-05-12
Linus Commit: 31cbee6a5611f07d2d66f55bb6f8648db5947e32
Linus Tag: 4.12
Stable Date: -
Stable Commit: -
Stable Tag: -
