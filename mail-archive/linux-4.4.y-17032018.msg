
-----------------------------
Stable Kernel Security Notice
2018-03-17

Stable Branch: linux-4.4.y

All linux-4.4.y CVEs:
http://joshuahunt.github.io/cve-tracker/linux-4.4.y-stable-cve-list.html

CVE(s) in report:

CVE-2018-1068
CVE-2018-8043
-----------------------------

Details:

*************
CVE-2018-1068:
*************

*** This is a new CVE ***
---
Description of fix for this vulnerability:
commit b71812168571fa55e44cdd0254471331b9c4c4c6
Author: Florian Westphal <fw@strlen.de>
Date:   Mon Feb 19 01:24:15 2018 +0100

    netfilter: ebtables: CONFIG_COMPAT: don't trust userland offsets
    
    We need to make sure the offsets are not out of range of the
    total size.
    Also check that they are in ascending order.
    
    The WARN_ON triggered by syzkaller (it sets panic_on_warn) is
    changed to also bail out, no point in continuing parsing.
    
    Briefly tested with simple ruleset of
    -A INPUT --limit 1/s' --log
    plus jump to custom chains using 32bit ebtables binary.
    
    Reported-by: <syzbot+845a53d13171abf8bf29@syzkaller.appspotmail.com>
    Signed-off-by: Florian Westphal <fw@strlen.de>
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>

 net/bridge/netfilter/ebtables.c | 13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)
---
The following fields have changed: Public Date,CVE,Break Date,Break Commit,Break Tag,Linus Fix Date,Linus Commit,Linus Tag,Stable Date,Stable Commit,Stable Tag
Public Date: 2018-03-16
CVE: CVE-2018-1068
Break Date: -
Break Commit: -
Break Tag: -
Linus Fix Date: 2018-02-25
Linus Commit: b71812168571fa55e44cdd0254471331b9c4c4c6
Linus Tag: 4.16-rc5
Stable Date: -
Stable Commit: -
Stable Tag: -

CVE-2018-8043:
*************

---
Description of fix for this vulnerability:
commit 297a6961ffb8ff4dc66c9fbf53b924bd1dda05d5
Author: Wei Yongjun <weiyongjun1@huawei.com>
Date:   Thu Jan 11 11:21:51 2018 +0000

    net: phy: mdio-bcm-unimac: fix potential NULL dereference in unimac_mdio_probe()
    
    platform_get_resource() may fail and return NULL, so we should
    better check it's return value to avoid a NULL pointer dereference
    a bit later in the code.
    
    This is detected by Coccinelle semantic patch.
    
    @@
    expression pdev, res, n, t, e, e1, e2;
    @@
    
    res = platform_get_resource(pdev, t, n);
    + if (!res)
    +   return -EINVAL;
    ... when != res == NULL
    e = devm_ioremap(e1, res->start, e2);
    
    Signed-off-by: Wei Yongjun <weiyongjun1@huawei.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

 drivers/net/phy/mdio-bcm-unimac.c | 2 ++
 1 file changed, 2 insertions(+)
---
The following fields have changed: Break Date,Break Commit,Break Tag
Break Date: - -> 2014-08-27
Break Commit: - -> 2ba1b163c9d5d716fb1061f3fb76832cc6eea37f
Break Tag: - -> 3.18-rc1
