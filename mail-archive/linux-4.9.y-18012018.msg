
-----------------------------
Stable Kernel Security Notice
2018-01-18

Stable Branch: linux-4.9.y

All linux-4.9.y CVEs:
http://joshuahunt.github.io/cve-tracker/linux-4.9.y-stable-cve-list.html

CVE(s) in report:

CVE-2017-13216
-----------------------------

Details:

*************
CVE-2017-13216:
*************

*** This is a new CVE ***
This CVE has been resolved in 4.9.77.
Please pull this or a newer version of the kernel to resolve this security vulnerability.

---
Description of fix for this vulnerability:
commit 443064cb0b1fb4569fe0a71209da7625129fb760
Author: Viktor Slavkovic <viktors@google.com>
Date:   Mon Jan 8 10:43:03 2018 -0800

    staging: android: ashmem: fix a race condition in ASHMEM_SET_SIZE ioctl
    
    A lock-unlock is missing in ASHMEM_SET_SIZE ioctl which can result in a
    race condition when mmap is called. After the !asma->file check, before
    setting asma->size, asma->file can be set in mmap. That would result in
    having different asma->size than the mapped memory size. Combined with
    ASHMEM_UNPIN ioctl and shrinker invocation, this can result in memory
    corruption.
    
    Signed-off-by: Viktor Slavkovic <viktors@google.com>
    Cc: stable@vger.kernel.org
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

 drivers/staging/android/ashmem.c | 2 ++
 1 file changed, 2 insertions(+)
---
The following fields have changed: Public Date,CVE,Break Date,Break Commit,Break Tag,Linus Fix Date,Linus Commit,Linus Tag,Stable Date,Stable Commit,Stable Tag
Public Date: 2018-01-12
CVE: CVE-2017-13216
Break Date: 2011-12-21
Break Commit: 11980c2ac4ccfad21a5f8ee9e12059f1e687bb40
Break Tag: 3.3
Linus Fix Date: 2018-01-09
Linus Commit: 443064cb0b1fb4569fe0a71209da7625129fb760
Linus Tag: 4.15
Stable Date: 2018-01-17
Stable Commit: c51d23dffc2e9ca05d611c86c440f9055541c62d
Stable Tag: 4.9.77
