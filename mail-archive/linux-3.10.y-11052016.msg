
-----------------------------
Stable Kernel Security Notice
2016-05-11

Stable Branch: linux-3.10.y

All linux-3.10.y CVEs:
http://joshuahunt.github.io/cve-tracker/linux-3.10.y-stable-cve-list.html

CVE(s) in report:

CVE-2016-4568
-----------------------------

Details:

*************
CVE-2016-4568:
*************

*** This is a new CVE ***
---
Description of fix for this vulnerability:
commit 2c1f6951a8a82e6de0d82b1158b5e493fc6c54ab
Author: Sakari Ailus <sakari.ailus@linux.intel.com>
Date:   Sun Apr 3 16:31:03 2016 -0300

    [media] videobuf2-v4l2: Verify planes array in buffer dequeueing
    
    When a buffer is being dequeued using VIDIOC_DQBUF IOCTL, the exact buffer
    which will be dequeued is not known until the buffer has been removed from
    the queue. The number of planes is specific to a buffer, not to the queue.
    
    This does lead to the situation where multi-plane buffers may be requested
    and queued with n planes, but VIDIOC_DQBUF IOCTL may be passed an argument
    struct with fewer planes.
    
    __fill_v4l2_buffer() however uses the number of planes from the dequeued
    videobuf2 buffer, overwriting kernel memory (the m.planes array allocated
    in video_usercopy() in v4l2-ioctl.c)  if the user provided fewer
    planes than the dequeued buffer had. Oops!
    
    Fixes: b0e0e1f83de3 ("[media] media: videobuf2: Prepare to divide videobuf2")
    
    Signed-off-by: Sakari Ailus <sakari.ailus@linux.intel.com>
    Acked-by: Hans Verkuil <hans.verkuil@cisco.com>
    Cc: stable@vger.kernel.org # for v4.4 and later
    Signed-off-by: Mauro Carvalho Chehab <mchehab@osg.samsung.com>

 drivers/media/v4l2-core/videobuf2-v4l2.c |    6 ++++++
 1 file changed, 6 insertions(+)
---
The following fields have changed: Public Date,CVE,Break Date,Break Commit,Break Tag,Linus Fix Date,Linus Commit,Linus Tag,Stable Date,Stable Commit,Stable Tag
Public Date: 2016-05-09
CVE: CVE-2016-4568
Break Date: 2015-10-20
Break Commit: b0e0e1f83de31aa0428c38b692c590cc0ecd3f03
Break Tag: 4.4
Linus Fix Date: 2016-04-13
Linus Commit: 2c1f6951a8a82e6de0d82b1158b5e493fc6c54ab
Linus Tag: 4.6
Stable Date: -
Stable Commit: -
Stable Tag: -
